!function(){"use strict";var e={771:function(e,t,n){e.exports=n.p+"3b5bf5d8808b2f69dc93.png"},84:function(e,t,n){e.exports=n.p+"be477f46c50757f14802.png"},617:function(e,t,n){e.exports=n.p+"06170a03ad0b87abc0cc.png"},774:function(e,t,n){e.exports=n.p+"2e68ff2310a781480a3b.png"},689:function(e,t,n){e.exports=n.p+"4c7210e42f7571d8ad5b.png"},475:function(e,t,n){e.exports=n.p+"1c7f1e69704a62f4c8d8.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.p="",function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}var r,o;return r=n,(o=[{key:"_showInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._inputErrorClass)}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._inputErrorClass)}},{key:"toggleButton",value:function(){this._hasValidInput()?(this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)):(this._submitButton.disabled=!0,this._submitButton.classList.add(this._inactiveButtonClass))}},{key:"_hasValidInput",value:function(){return this._inputList.every((function(e){return!0===e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_setEventListeners",value:function(){var t,n=this;this._submitButton=this._form.querySelector(this._submitButtonSelector),this._inputList=function(t){if(Array.isArray(t))return e(t)}(t=this._form.querySelectorAll(this._inputSelector))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){n._checkInputValidity(e),n.toggleButton()}))}))}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){return e.preventDefault()})),this._setEventListeners()}}])&&t(r.prototype,o),n}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n,r){var o=t.data,i=t.handleCardClick,a=t.handleDeleteCard,c=t.handleLikeIcon;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=o.name,this._link=o.link,this._userId=o.owner._id,this._cardId=o._id,this._likes=o.likes,this._ownerId=r,this._handleCardClick=i,this._handleDeleteCard=a,this._handleLikeIcon=c,this._cardSelector=n}var t,n;return t=e,(n=[{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".card__image").addEventListener("click",(function(){return e._handleCardClick({link:e._link,name:e._name})})),this._element.querySelector(".card__like").addEventListener("click",(function(t){return e._handleLikeIcon(t,e)})),this._element.querySelector(".card__delete").addEventListener("click",(function(){return e._handleDeleteCard(e)})),this._setDeleteButton(),this._updateLikes()}},{key:"_setDeleteButton",value:function(){this._userId!==this._ownerId&&(this._element.querySelector(".card__delete").style.display="none")}},{key:"_updateLikes",value:function(){var e=this;this._likes.length>0?this._element.querySelector(".card__like-counter").textContent=this._likes.length:this._element.querySelector(".card__like-counter").textContent="",this._likes.filter((function(t){return t._id===e._ownerId})).length>0&&this._element.querySelector(".card__like").classList.add("card__like_active")}},{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".card__image").style.backgroundImage="url(".concat(this._link,")"),this._element.querySelector(".card__title").textContent=this._name,this._element}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}},{key:"setLikesInfo",value:function(e){this._likes=e.likes,this._updateLikes()}}])&&o(t.prototype,n),e}(),a=i;function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this.items.forEach((function(t){return e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&c(t.prototype,n),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(".".concat(t)),this._handleEscUp=this._handleEscUp.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscUp",value:function(e){"Escape"==e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){(t.target.classList.contains("popup")||t.target.classList.contains("close-button"))&&e.close()}))}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscUp)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscUp)}}])&&l(t.prototype,n),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},d.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._cardImage=t._popupElement.querySelector(".popup__preview-image"),t}return t=a,(n=[{key:"open",value:function(e){this._popupElement.querySelector(".popup__caption").textContent=e.name,this._cardImage.src=e.link,this._cardImage.alt="Preview of ".concat(e.name),d(_(a.prototype),"open",this).call(this)}}])&&p(t.prototype,n),a}(s);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=E(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._popupForm=t._popupElement.querySelector(".popup__form"),t._handleFormSubmit=r,t._inputs=t._popupElement.querySelectorAll(".popup__input"),t._values={},t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputs.forEach((function(t){e._values[t.name]=t.value})),this._values}},{key:"renderLoading",value:function(e){this._popupForm.querySelector(".submit-button").textContent=e?"Saving...":"Create"}},{key:"setEventListeners",value:function(){var e=this;k(C(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e.renderLoading(!0),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){this._popupForm.reset(),k(C(a.prototype),"close",this).call(this)}}])&&g(t.prototype,n),a}(s);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.imageSelector,i=t.userId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(".".concat(n)),this._jobElement=document.querySelector(".".concat(r)),this._imageElement=document.querySelector(".".concat(o)),this._userId=i}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,job:this._jobElement.textContent,image:this._imageElement.src,_id:this._userId}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.aboutMe,r=e._id;this._nameElement.textContent=t,this._jobElement.textContent=n,this._userId=r}},{key:"setUserAvatar",value:function(e){var t=e.link;this._imageElement.src=t}}])&&j(t.prototype,n),e}(),O=(n(475),n(689),n(84),n(771),n(617),n(774),".cards-grid"),P={editFormElement:document.querySelector(".popup_type_edit").querySelector(".popup__form"),addFormElement:document.querySelector(".popup_type_add").querySelector(".popup__form"),editImageProfileFormElement:document.querySelector(".popup_type_profile-image").querySelector(".popup__form"),profileNameElement:document.querySelector(".profile__name"),profileJobElement:document.querySelector(".profile__about-me"),profileImageElement:document.querySelector(".profile__image"),profileImagePopupElement:document.querySelector(".popup__input_image_link"),profileNamePopupElement:document.querySelector(".popup__input_field_name"),profileJobPopupElement:document.querySelector(".popup__input_field_about-me")},q={inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"submit-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},T="cbc21d4eeb636c558502f8d0";function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.token=t.token,this.groupId=t.groupId}var t,n;return t=e,(n=[{key:"getProfileInfo",value:function(){return fetch("".concat(this.baseUrl,"/").concat(this.groupId,"/users/me/"),{headers:{authorization:this.token,"Content-Type":"application/json"}}).then((function(e){return e.ok?(console.log("Data load correctly, code status: ".concat(e.status)),e.json()):Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"saveProfileInfo",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this.baseUrl,"/").concat(this.groupId,"/users/me"),{method:"PATCH",headers:{authorization:this.token,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:n})}).then((function(e){return e.ok?(console.log("Code status: ".concat(e.status,",\ndata saved correctly.")),e.json()):Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"saveProfileImage",value:function(e){var t=e.avatar;return fetch("".concat(this.baseUrl,"/").concat(this.groupId,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this.token,"Content-Type":"application/json"},body:JSON.stringify({avatar:t})}).then((function(e){return e.ok?(console.log("Code status: ".concat(e.status,",\nimage saved correctly.")),e.json()):Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"getCards",value:function(){return fetch("".concat(this.baseUrl,"/").concat(this.groupId,"/cards/"),{headers:{authorization:this.token,"Content-Type":"application/json"}}).then((function(e){return e.ok?(console.log("Data load correctly, code status: ".concat(e.status)),e.json()):Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"saveCards",value:function(e){var t=e.name,n=e.link;return fetch("".concat(this.baseUrl,"/").concat(this.groupId,"/cards"),{method:"POST",headers:{authorization:this.token,"Content-Type":"application/json"},body:JSON.stringify({name:t,link:n})}).then((function(e){return e.ok?(console.log("Code status: ".concat(e.status,",\ncard saved correctly.")),e.json()):Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"deleteCards",value:function(e){var t=e.cardId;return fetch("".concat(this.baseUrl,"/").concat(this.groupId,"/cards/").concat(t),{method:"DELETE",headers:{authorization:this.token,"Content-Type":"application/json"}}).then((function(e){return e.ok?(console.log("Code status: ".concat(e.status,",\ncard deleted correctly.")),e.json()):Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"likeCards",value:function(e){var t=e.cardId;return fetch("".concat(this.baseUrl,"/").concat(this.groupId,"/cards/likes/").concat(t),{method:"PUT",headers:{authorization:this.token,"Content-Type":"application/json"}}).then((function(e){return e.ok?(console.log("Code status: ".concat(e.status,",\ncard liked correctly.")),e.json()):Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"dislikeCards",value:function(e){var t=e.cardId;return fetch("".concat(this.baseUrl,"/").concat(this.groupId,"/cards/likes/").concat(t),{method:"DELETE",headers:{authorization:this.token,"Content-Type":"application/json"}}).then((function(e){return e.ok?(console.log("Code status: ".concat(e.status,",\ncard disliked correctly.")),e.json()):Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}}])&&x(t.prototype,n),e}();function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(){return F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=A(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},F.apply(this,arguments)}function A(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function V(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=z(r);if(o){var n=z(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._popupForm=t._popupElement.querySelector(".popup__form"),t._handleFormSubmit=r,t}return t=a,(n=[{key:"renderLoading",value:function(e){this._popupForm.querySelector(".submit-button").textContent=e?"Deleting...":"Yes"}},{key:"setEventListeners",value:function(){var e=this;F(z(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e.renderLoading(!0),e._handleFormSubmit(),e.close()}))}},{key:"close",value:function(){F(z(a.prototype),"close",this).call(this)}}])&&B(t.prototype,n),a}(s);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=new U({baseUrl:"https://around.nomoreparties.co/v1/",token:"d32f6df6-a478-44c7-98e2-39f20efb7fb4",groupId:"group-12"});Promise.all([J.getCards(),J.getProfileInfo()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];H.items=o,H.renderItems();var a=i.name,c=i.about,u=i.avatar,l=i._id;Y.setUserInfo({name:a,aboutMe:c,_id:l}),Y.setUserAvatar({link:u})})).catch((function(e){console.log(e)}));var H=new u({renderer:function(e){ee(e)}},O),$=new v("popup_type_preview"),Y=new L({nameSelector:"profile__name",jobSelector:"profile__about-me",imageSelector:"profile__image"}),G=new I({popupSelector:"popup_type_edit",handleFormSubmit:function(e){J.saveProfileInfo({name:e.name,about:e.aboutMe}).then((function(e){Y.setUserInfo({name:e.name,aboutMe:e.about})})).then((function(){G.close()}))}}),K=new I({popupSelector:"popup_type_add",handleFormSubmit:function(e){var t={name:e.title,link:e.link};J.saveCards({name:t.name,link:t.link}).then((function(e){ee(e)})).then((function(){K.close()}))}}),Q=new I({popupSelector:"popup_type_profile-image",handleFormSubmit:function(e){J.saveProfileImage({avatar:e.link}).then((function(e){Y.setUserAvatar({link:e.avatar})})).then((function(){Q.close()}))}}),W=new r(q,P.editFormElement),X=new r(q,P.addFormElement),Z=new r(q,P.editImageProfileFormElement),ee=function(e){var t=new a({data:e,handleCardClick:function(e){$.open(e)},handleDeleteCard:function(e){var n=new M({popupSelector:"popup_type_delete-card",handleFormSubmit:function(){t.removeCard(),J.deleteCards({cardId:e._cardId}).finally((function(){n.renderLoading(!1)})),n.close()}});n.open(),n.setEventListeners()},handleLikeIcon:function(e,n){n._likes.filter((function(e){return e._id===T})).length>0?J.dislikeCards({cardId:n._cardId}).then((function(e){t.setLikesInfo(e)})):J.likeCards({cardId:n._cardId}).then((function(e){t.setLikesInfo(e)})),e.target.classList.toggle("card__like_active")}},"#card-template",T);return H.addItem(t.generateCard()),t};W.enableValidation(),X.enableValidation(),Z.enableValidation(),$.setEventListeners(),G.setEventListeners(),K.setEventListeners(),Q.setEventListeners(),document.querySelector(".edit-button").addEventListener("click",(function(){var e=Y.getUserInfo(),t=e.name,n=e.job;P.profileNamePopupElement.value=t,P.profileJobPopupElement.value=n,G.renderLoading(!1),G.open()})),document.querySelector(".add-button").addEventListener("click",(function(){K.renderLoading(!1),K.open(),X.toggleButton()})),document.querySelector(".profile__image-wrapper").addEventListener("click",(function(){var e=Y.getUserInfo().image;P.profileImagePopupElement.value=e,Q.renderLoading(!1),Q.open(),Z.toggleButton()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjLEdBQzVCa0UsRUFBY2EsVUFHSW5ILFNBQVN0RCxjSHZIaEIsZUd3SERrQixpQkFBaUIsU0FBUyxXQUNwQzRJLEVBQWFwRSxlQUFjLEdBQzNCb0UsRUFBYVcsT0FDYkosRUFBaUJqSixrQkFHUWtDLFNBQVN0RCxjSDdIZCwyQkc4SEhrQixpQkFBaUIsU0FBUyxXQUMzQyxJQUFRb0YsRUFBVWlELEVBQVMrQixjQUFuQmhGLE1BQ1JHLEVBQUFBLHlCQUFBQSxNQUEwQ0gsRUFDMUM0RCxFQUFzQnhFLGVBQWMsR0FDcEN3RSxFQUFzQk8sT0FDdEJILEVBQThCbEosa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIi8qKlxyXG4gKiBWYWxpZGF0aW9uIGZvciBhbGwgdGhlIHBvcHVwcy5cclxuICogQHBhcmFtICB7fSBzZXR0aW5ncyAtIHZhbGlkYXRpb25TZXR0aW5ncyBvYmplY3QgZm9yIHRoZSBpbnB1dHMgdmFsaWRhdGlvbi5cclxuICogQHBhcmFtICB7fSBmb3JtRWxlbWVudCAtIGFkZEZvcm0gb3IgZWRpdEZvcm0gcG9wdXAuXHJcbiAqL1xyXG5jbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzc1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzXHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzc1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQcml2YXRlIG1ldGhvZCB0byBzaG93IGFuIGVycm9yXHJcbiAgICogQHBhcmFtICB7fSBpbnB1dCAtIElucHV0IHBhc3NlZCB0aHJvdWdoIHRoZSBmb3Jtcy5cclxuICAgKi9cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYClcclxuICAgIC8vIEFkZCBlcnJvciBtZXNzYWdlIGFuZCBjbGFzc1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpXHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZVxyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFByaXZhdGUgbWV0aG9kIHRvIGhpZGUgYW4gZXJyb3IuXHJcbiAgICogQHBhcmFtICB7fSBpbnB1dCAtIElucHV0IHBhc3NlZCB0aHJvdWdoIHRoZSBmb3Jtcy5cclxuICAgKi9cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYClcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKVxyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQdWJsaWMgbWV0aG9kIHRoYXQgdG9nZ2xlIHRoZSBzdWJtaXQgYnV0dG9uLlxyXG4gICAqL1xyXG4gIHRvZ2dsZUJ1dHRvbigpIHtcclxuICAgIGlmICh0aGlzLl9oYXNWYWxpZElucHV0KCkpIHtcclxuICAgICAgLy8gTWFrZSB0aGUgYnV0dG9uIGVuYWJsZWRcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2VcclxuICAgICAgLy8gUmVtb3ZlIHRoZSBkaXNhYmxlZCBjbGFzcyBmb3IgdGhlIGJ1dHRvblxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gTWFrZSB0aGUgYnV0dG9uIGRpc2FibGVkXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWVcclxuICAgICAgLy8gQWRkIHRoZSBkaXNhYmxlZCBjbGFzcyBmb3IgdGhlIGJ1dHRvblxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgdGhlIGlucHV0cyBhcmUgdmFsaWQuXHJcbiAgICovXHJcbiAgX2hhc1ZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQgPT09IHRydWUpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJZiB0aGUgY29uZGl0aW9uIGlzIHRydWUsIGhpZGUgdGhlIGVycm9yLCBpZiBpdCBpcyBmYWxzZSwgc2hvdyB0aGUgZXJyb3IuXHJcbiAgICogQHBhcmFtICB7fSBpbnB1dCAtIElucHV0IHBhc3NlZCB0aHJvdWdoIHRoZSBmb3Jtcy5cclxuICAgKi9cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZSB0aGUgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgaW5wdXRzLlxyXG4gICAqL1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvcilcclxuICAgIC8vIEdyYWIgZWFjaCBvbmUgb2YgdGhlIGlucHV0c1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV1cclxuICAgIC8vIFRvZ2dsZSB0aGUgYnV0dG9uIGJlZm9yZSB3ZSBzdGFydCBsaXN0ZW5pbmcgdG8gdGhlIGlucHV0IGV2ZW4sIG90aGVyd2lzZSB0aGUgYnV0dG9uIHdpbGwgYmUgYWN0aXZlIHdoZW4gd2UgbG9hZCB0aGUgcGFnZSBldmVuIGlmIHRoZSBpbnB1dCBmaWVsZHMgYXJlIGludmFsaWRcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICAvLyBDaGVjayB2YWxpZGl0eSBvZiB0aGUgaW5wdXRcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpXHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b24oKVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVuYWJsZSB0aGUgdmFsaWRhdGlvbiBmb3IgdGhlIGZvcm1zLlxyXG4gICAqL1xyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IGV2dC5wcmV2ZW50RGVmYXVsdCgpKSAgLy8gUHJldmVudCB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgZm9ybSB3aGVuIHdlIGFyZSBzdWJtaXR0aW5nIHNvbWV0aGluZywgdGhlbiB3ZSBjYW4gbG9vcCBvdXIgaW5wdXQgZWxlbWVudHNcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCkgIC8vIEltcGxlbWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lclxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuIiwiLyoqXHJcbiAqIEhhbmRsZSB0aGUgY3JlYXRpb24gb2YgdGhlIGNhcmQgZWxlbWVudC5cclxuICogQHBhcmFtICB7fSBkYXRhIC0gQ2FyZCBuYW1lIGFuZCBjYXJkIGxpbmsuXHJcbiAqIEBwYXJhbSAge30gY2FyZFNlbGVjdG9yIC0gQ2FyZCBpZCB0ZW1wbGF0ZS5cclxuICovXHJcbmNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDYXJkLCBoYW5kbGVMaWtlSWNvbiB9LCBjYXJkU2VsZWN0b3IsIG93bmVySWQpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fdXNlcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX293bmVySWQgPSBvd25lcklkO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbiA9IGhhbmRsZUxpa2VJY29uO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgbGlzdGVuZXJzIGhhbmRsZXIuXHJcbiAgICovXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IGxpbms6IHRoaXMuX2xpbmssIG5hbWU6IHRoaXMuX25hbWUgfSkpXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB0aGlzLl9oYW5kbGVMaWtlSWNvbihldnQsIHRoaXMpKVxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVsZXRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMpKVxyXG4gICAgdGhpcy5fc2V0RGVsZXRlQnV0dG9uKClcclxuICAgIHRoaXMuX3VwZGF0ZUxpa2VzKClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEhhbmRsZSB0aGUgbGlrZSBidXR0b24uXHJcbiAgICogQHBhcmFtICB7fSBldnRcclxuICAgKi9cclxuICAvLyBfaGFuZGxlTGlrZUljb24oZXZ0KSB7XHJcbiAgLy8gICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2NhcmRfX2xpa2VfYWN0aXZlJylcclxuICAvLyB9XHJcblxyXG4gIF9zZXREZWxldGVCdXR0b24oKSB7XHJcbiAgICBpZiAodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lcklkKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2RlbGV0ZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlTGlrZXMoKSB7XHJcbiAgICBpZiAodGhpcy5fbGlrZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWNvdW50ZXInKS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtY291bnRlcicpLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fbGlrZXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5faWQgPT09IHRoaXMuX293bmVySWQpLmxlbmd0aCA+IDApIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZScpLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2xpa2VfYWN0aXZlJylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENsb25lIHRoZSBjYXJkIHRlbXBsYXRlLlxyXG4gICAqL1xyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpLmNsb25lTm9kZSh0cnVlKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGFuZGxlIHRoZSBjYXJkIGdlbmVyYXRpb24uXHJcbiAgICovXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKClcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKClcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJykuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3RoaXMuX2xpbmt9KWBcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudFxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKClcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsXHJcbiAgfVxyXG5cclxuICBzZXRMaWtlc0luZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fdXBkYXRlTGlrZXMoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsImNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLml0ZW1zID0gaXRlbXNcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XHJcbiIsImNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtwb3B1cFNlbGVjdG9yfWApO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjVXAgPSB0aGlzLl9oYW5kbGVFc2NVcC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY1VwKGV2dCkge1xyXG4gICAgLy8gUHJldmVudCBkZWZhdWx0IGFuZCBpZiBldmVudCB3YXMgb24gRVNDIGJ1dHRvbiAtPiBjYWxsIFwiY2xvc2VcIiBtZXRob2RcclxuICAgIGlmIChldnQua2V5ID09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyBDcmVhdGUgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGNsaWNrIG9uIHRoZSBDTE9TRSBidXR0b24gb3IgcHVwdXAgaGFsZi10cmFzcGFyZW50IGJhY2tncm91bmRcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZS1idXR0b24nKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICAvLyBhZGRzIGEgbmV3IGNsYXNzIGFuZCBhbiBldmVudCBsaXN0ZW5lciwgdG8gbGlzdGVuIHRoZSBFU0MgYnV0dG9uXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjVXApO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICAvLyByZW1vdmVzIGEgbmV3IGNsYXNzIHdlIGFkZGVkIGFuZCByZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgRVNDIGJ1dHRvblxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY1VwKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3ByZXZpZXctaW1hZ2UnKTtcclxuICB9XHJcblxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgLy8gcHV0cyAnbmFtZScgZnJvbSBhcmdzIHRvIHRoZSAnLnBvcHVwX19jYXB0aW9uJyBzZWxlY3RvclxyXG4gICAgLy8gZmluZCBpbWFnZSBieSB0aGUgJ3BvcHVwX19pbWFnZScgc2VsZWN0b3IsIHNldCAnc3JjJyBhbmQgJ2FsdCcgZm9yIGl0XHJcbiAgICAvLyBjYWxsIHN1cGVyLm9wZW4oKSwgaXQgd2lsbCBjYWxsIHRoZSBvcmdpbmFsIG1ldGhvZCBmcm9tIHRoZSBvcmlnaW5hbCBQb3B1cCBjbGFzc1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FwdGlvbicpLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSBgUHJldmlldyBvZiAke2RhdGEubmFtZX1gO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2U7XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xyXG4gICAgdGhpcy5fdmFsdWVzID0ge307XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIHRoaXMuX3ZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl92YWx1ZXM7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xyXG4gICAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgICB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcignLnN1Ym1pdC1idXR0b24nKS50ZXh0Q29udGVudCA9ICdTYXZpbmcuLi4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5zdWJtaXQtYnV0dG9uJykudGV4dENvbnRlbnQgPSAnQ3JlYXRlJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07XHJcbiIsImNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGltYWdlU2VsZWN0b3IsIHVzZXJJZCB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke25hbWVTZWxlY3Rvcn1gKTtcclxuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtqb2JTZWxlY3Rvcn1gKTtcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2ltYWdlU2VsZWN0b3J9YCk7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIC8vIFJldHVybnMgYW4gb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIuXHJcbiAgICAvLyBUaGlzIG1ldGhvZCB3aWxsIGJlIGhhbmR5IGZvciBjYXNlcyB3aGVuIGl0J3MgbmVjZXNzYXJ5IHRvIGRpc3BsYXkgdGhlIHVzZXJcclxuICAgIC8vIGRhdGEgaW4gdGhlIG9wZW4gZm9ybS5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIGltYWdlOiB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjLFxyXG4gICAgICBfaWQ6IHRoaXMuX3VzZXJJZFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXRNZSwgX2lkIH0pIHtcclxuICAgIC8vIFRha2VzIG5ldyB1c2VyIGRhdGEgYW5kIGFkZHMgaXQgb24gdGhlIHBhZ2UuXHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50ID0gYWJvdXRNZTtcclxuICAgIHRoaXMuX3VzZXJJZCA9IF9pZDtcclxuICB9XHJcblxyXG4gIHNldFVzZXJBdmF0YXIoeyBsaW5rIH0pIHtcclxuICAgIC8vIFRha2VzIG5ldyB1c2VyIGF2YXRhciBhbmQgYWRkcyBpdCBvbiB0aGUgcGFnZS5cclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zcmMgPSBsaW5rO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87XHJcbiIsImltcG9ydCBwYWxvdXNlRmFsbHMgZnJvbSBcIi4uL2ltYWdlcy9wYWxvdXNlLWZhbGxzLnBuZ1wiO1xyXG5pbXBvcnQgZ2hvc3RUb3duIGZyb20gXCIuLi9pbWFnZXMvZ2hvc3QtdG93bi1vZi1ib2RpZS5wbmdcIjtcclxuaW1wb3J0IGNhckZvcmVzdCBmcm9tIFwiLi4vaW1hZ2VzL2Nhci1mb3Jlc3QucG5nXCI7XHJcbmltcG9ydCBieW9kb1RlbXBsZSBmcm9tIFwiLi4vaW1hZ2VzL2J5b2RvLWluLXRlbXBsZS5wbmdcIjtcclxuaW1wb3J0IGZvcnRKZWZmZXJzb24gZnJvbSBcIi4uL2ltYWdlcy9mb3J0LWplZmZlcnNvbi5wbmdcIjtcclxuaW1wb3J0IGdhcmRlckdvZHMgZnJvbSBcIi4uL2ltYWdlcy9nYXJkZW4tb2YtdGhlLWdvZHMucG5nXCI7XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiUGFsb3VzZSBGYWxsc1wiLFxyXG4gICAgbGluazogcGFsb3VzZUZhbGxzXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkdob3N0IHRvd24gb2YgQm9kaWVcIixcclxuICAgIGxpbms6IGdob3N0VG93blxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJDYXIgRm9yZXN0XCIsXHJcbiAgICBsaW5rOiBjYXJGb3Jlc3RcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQnlvZG8tSW4gVGVtcGxlXCIsXHJcbiAgICBsaW5rOiBieW9kb1RlbXBsZVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJGb3J0IEplZmZlcnNvblwiLFxyXG4gICAgbGluazogZm9ydEplZmZlcnNvblxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJHYXJkZW4gb2YgdGhlIEdvZHNcIixcclxuICAgIGxpbms6IGdhcmRlckdvZHNcclxuICB9XHJcbl07XHJcblxyXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xyXG4gIGNhcmRMaXN0OiAnLmNhcmRzLWdyaWQnLFxyXG4gIGNhcmRUZW1wbGF0ZTogJyNjYXJkLXRlbXBsYXRlJyxcclxuICBwcmV2aWV3UG9wdXA6ICdwb3B1cF90eXBlX3ByZXZpZXcnLFxyXG4gIHByb2ZpbGVQb3B1cDogJ3BvcHVwX3R5cGVfZWRpdCcsXHJcbiAgY2FyZFBvcHVwOiAncG9wdXBfdHlwZV9hZGQnLFxyXG4gIGVkaXRJbWFnZVBvcHVwOiAncG9wdXBfdHlwZV9wcm9maWxlLWltYWdlJyxcclxuICBkZWxldGVDYXJkUG9wdXA6ICdwb3B1cF90eXBlX2RlbGV0ZS1jYXJkJyxcclxuICBuYW1lOiAncHJvZmlsZV9fbmFtZScsXHJcbiAgam9iOiAncHJvZmlsZV9fYWJvdXQtbWUnLFxyXG4gIGltYWdlOiAncHJvZmlsZV9faW1hZ2UnLFxyXG4gIGVkaXRCdXR0b246ICcuZWRpdC1idXR0b24nLFxyXG4gIGFkZEJ1dHRvbjogJy5hZGQtYnV0dG9uJyxcclxuICBwcm9maWxlSW1hZ2VCdXR0b246ICcucHJvZmlsZV9faW1hZ2Utd3JhcHBlcidcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlbGVtZW50cyA9IHtcclxuICBlZGl0Rm9ybUVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2VkaXQnKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKSxcclxuICBhZGRGb3JtRWxlbWVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfYWRkJykucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyksXHJcbiAgZWRpdEltYWdlUHJvZmlsZUZvcm1FbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9wcm9maWxlLWltYWdlJykucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyksXHJcbiAgcHJvZmlsZU5hbWVFbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpLFxyXG4gIHByb2ZpbGVKb2JFbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWJvdXQtbWUnKSxcclxuICBwcm9maWxlSW1hZ2VFbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UnKSxcclxuICBwcm9maWxlSW1hZ2VQb3B1cEVsZW1lbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfaW1hZ2VfbGluaycpLFxyXG4gIHByb2ZpbGVOYW1lUG9wdXBFbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2ZpZWxkX25hbWUnKSxcclxuICBwcm9maWxlSm9iUG9wdXBFbGVtZW50OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2ZpZWxkX2Fib3V0LW1lJylcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInN1Ym1pdC1idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCJcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhcGlDb25maWcgPSB7XHJcbiAgYmFzZVVybDogJ2h0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvJyxcclxuICB0b2tlbjogJ2QzMmY2ZGY2LWE0NzgtNDRjNy05OGUyLTM5ZjIwZWZiN2ZiNCcsXHJcbiAgZ3JvdXBJZDogJ2dyb3VwLTEyJ1xyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgb3duZXJJZCA9ICdjYmMyMWQ0ZWViNjM2YzU1ODUwMmY4ZDAnOyAgLy8gREEgU0lTVEVNQVJFXHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICB0aGlzLmJhc2VVcmwgPSBjb25maWcuYmFzZVVybDtcclxuICAgIHRoaXMudG9rZW4gPSBjb25maWcudG9rZW47XHJcbiAgICB0aGlzLmdyb3VwSWQgPSBjb25maWcuZ3JvdXBJZDtcclxuICB9XHJcblxyXG4gIGdldFByb2ZpbGVJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vJHt0aGlzLmdyb3VwSWR9L3VzZXJzL21lL2AsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMudG9rZW4sXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRGF0YSBsb2FkIGNvcnJlY3RseSwgY29kZSBzdGF0dXM6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBzYXZlUHJvZmlsZUluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS8ke3RoaXMuZ3JvdXBJZH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy50b2tlbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXRcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgIGBDb2RlIHN0YXR1czogJHtyZXMuc3RhdHVzfSxcclxuZGF0YSBzYXZlZCBjb3JyZWN0bHkuYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBzYXZlUHJvZmlsZUltYWdlKHsgYXZhdGFyIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9LyR7dGhpcy5ncm91cElkfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy50b2tlbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgIGBDb2RlIHN0YXR1czogJHtyZXMuc3RhdHVzfSxcclxuaW1hZ2Ugc2F2ZWQgY29ycmVjdGx5LmBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS8ke3RoaXMuZ3JvdXBJZH0vY2FyZHMvYCwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy50b2tlbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBEYXRhIGxvYWQgY29ycmVjdGx5LCBjb2RlIHN0YXR1czogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSlcclxuICB9XHJcblxyXG4gIHNhdmVDYXJkcyh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vJHt0aGlzLmdyb3VwSWR9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy50b2tlbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICBgQ29kZSBzdGF0dXM6ICR7cmVzLnN0YXR1c30sXHJcbmNhcmQgc2F2ZWQgY29ycmVjdGx5LmBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZHMoeyBjYXJkSWQgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vJHt0aGlzLmdyb3VwSWR9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy50b2tlbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICBgQ29kZSBzdGF0dXM6ICR7cmVzLnN0YXR1c30sXHJcbmNhcmQgZGVsZXRlZCBjb3JyZWN0bHkuYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZHMoeyBjYXJkSWQgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vJHt0aGlzLmdyb3VwSWR9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy50b2tlbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICBgQ29kZSBzdGF0dXM6ICR7cmVzLnN0YXR1c30sXHJcbmNhcmQgbGlrZWQgY29ycmVjdGx5LmBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGlzbGlrZUNhcmRzKHsgY2FyZElkIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9LyR7dGhpcy5ncm91cElkfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMudG9rZW4sXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgYENvZGUgc3RhdHVzOiAke3Jlcy5zdGF0dXN9LFxyXG5jYXJkIGRpc2xpa2VkIGNvcnJlY3RseS5gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwaTtcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuY2xhc3MgUG9wdXBXaXRoQ29uZmlybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICB9XHJcblxyXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKCcuc3VibWl0LWJ1dHRvbicpLnRleHRDb250ZW50ID0gJ0RlbGV0aW5nLi4uJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKCcuc3VibWl0LWJ1dHRvbicpLnRleHRDb250ZW50ID0gJ1llcyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoQ29uZmlybTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IHNlbGVjdG9ycywgZWxlbWVudHMsIHZhbGlkYXRpb25TZXR0aW5ncywgYXBpQ29uZmlnLCBvd25lcklkIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiXHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1cIjtcclxuXHJcblxyXG4vKioqKioqKlxyXG4gKiBBUEkgKlxyXG4gKioqKioqKi9cclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpQ29uZmlnKTtcclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0Q2FyZHMoKSwgYXBpLmdldFByb2ZpbGVJbmZvKCldKVxyXG4gIC50aGVuKChbY2FyZHMsIGluZm9dKSA9PiB7XHJcbiAgICBjYXJkU2VjdGlvbi5pdGVtcyA9IGNhcmRzO1xyXG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuICAgIGNvbnN0IHsgbmFtZSwgYWJvdXQsIGF2YXRhciwgX2lkIH0gPSBpbmZvO1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dE1lOiBhYm91dCwgX2lkIH0pXHJcbiAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHsgbGluazogYXZhdGFyIH0pXHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIElOU1RBTkNFUyBDUkVBVElPTiAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XHJcbiAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XHJcbiAgICBjcmVhdGVDYXJkKGRhdGEpXHJcbiAgfVxyXG59LCBzZWxlY3RvcnMuY2FyZExpc3QpXHJcblxyXG5jb25zdCBpbWFnZVByZXZpZXdQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShzZWxlY3RvcnMucHJldmlld1BvcHVwKTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBuYW1lU2VsZWN0b3I6IHNlbGVjdG9ycy5uYW1lLFxyXG4gIGpvYlNlbGVjdG9yOiBzZWxlY3RvcnMuam9iLFxyXG4gIGltYWdlU2VsZWN0b3I6IHNlbGVjdG9ycy5pbWFnZVxyXG59KVxyXG5cclxuY29uc3QgdXNlckluZm9Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBzZWxlY3RvcnMucHJvZmlsZVBvcHVwLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICBhcGkuc2F2ZVByb2ZpbGVJbmZvKHsgbmFtZTogZGF0YS5uYW1lLCBhYm91dDogZGF0YS5hYm91dE1lIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IG5hbWU6IHJlcy5uYW1lLCBhYm91dE1lOiByZXMuYWJvdXQgfSlcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICB1c2VySW5mb1BvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IG5ld0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBzZWxlY3RvcnMuY2FyZFBvcHVwLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChyYXdEYXRhKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICBuYW1lOiByYXdEYXRhLnRpdGxlLFxyXG4gICAgICBsaW5rOiByYXdEYXRhLmxpbmtcclxuICAgIH07XHJcbiAgICBhcGkuc2F2ZUNhcmRzKHsgbmFtZTogZGF0YS5uYW1lLCBsaW5rOiBkYXRhLmxpbmsgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNyZWF0ZUNhcmQocmVzKTtcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBuZXdDYXJkUG9wdXAuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgZWRpdFByb2ZpbGVJbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IHNlbGVjdG9ycy5lZGl0SW1hZ2VQb3B1cCxcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgYXBpLnNhdmVQcm9maWxlSW1hZ2UoeyBhdmF0YXI6IGRhdGEubGluayB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih7IGxpbms6IHJlcy5hdmF0YXIgfSlcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBlZGl0UHJvZmlsZUltYWdlUG9wdXAuY2xvc2UoKTtcclxuICAgICAgfSlcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGVsZW1lbnRzLmVkaXRGb3JtRWxlbWVudCk7XHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGVsZW1lbnRzLmFkZEZvcm1FbGVtZW50KTtcclxuY29uc3QgZWRpdEltYWdlUHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGVsZW1lbnRzLmVkaXRJbWFnZVByb2ZpbGVGb3JtRWxlbWVudCk7XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiBDUkVBVEUgQ0FSRCBGVU5DVElPTiAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKHtcclxuICAgIGRhdGEsXHJcbiAgICBoYW5kbGVDYXJkQ2xpY2s6IChpbWFnZURhdGEpID0+IHtcclxuICAgICAgaW1hZ2VQcmV2aWV3UG9wdXAub3BlbihpbWFnZURhdGEpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZURlbGV0ZUNhcmQ6IChkYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhDb25maXJtKHtcclxuICAgICAgICBwb3B1cFNlbGVjdG9yOiBzZWxlY3RvcnMuZGVsZXRlQ2FyZFBvcHVwLFxyXG4gICAgICAgIGhhbmRsZUZvcm1TdWJtaXQ6ICgpID0+IHtcclxuICAgICAgICAgIGNhcmRFbGVtZW50LnJlbW92ZUNhcmQoKVxyXG4gICAgICAgICAgYXBpLmRlbGV0ZUNhcmRzKHsgY2FyZElkOiBkYXRhLl9jYXJkSWQgfSlcclxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGRlbGV0ZUNhcmRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIGRlbGV0ZUNhcmRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKCk7XHJcbiAgICAgIGRlbGV0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZUxpa2VJY29uOiAoZXZ0LCBkYXRhKSA9PiB7XHJcbiAgICAgIGlmIChkYXRhLl9saWtlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLl9pZCA9PT0gb3duZXJJZCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGFwaS5kaXNsaWtlQ2FyZHMoeyBjYXJkSWQ6IGRhdGEuX2NhcmRJZCB9KVxyXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBjYXJkRWxlbWVudC5zZXRMaWtlc0luZm8ocmVzKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcGkubGlrZUNhcmRzKHsgY2FyZElkOiBkYXRhLl9jYXJkSWQgfSlcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgY2FyZEVsZW1lbnQuc2V0TGlrZXNJbmZvKHJlcylcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19saWtlX2FjdGl2ZScpXHJcbiAgICB9XHJcbiAgfSwgc2VsZWN0b3JzLmNhcmRUZW1wbGF0ZSwgb3duZXJJZClcclxuICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50LmdlbmVyYXRlQ2FyZCgpKVxyXG4gIHJldHVybiBjYXJkRWxlbWVudFxyXG59O1xyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIElOU1RBTkNFUyBJTklaSUFMSVpBVElPTiAqXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZWRpdEltYWdlUHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5pbWFnZVByZXZpZXdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG51c2VySW5mb1BvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbm5ld0NhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5lZGl0UHJvZmlsZUltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIE9QRU4gQlVUVE9OIEhBTkRMRVJTICpcclxuICoqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5lZGl0QnV0dG9uKTtcclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBjb25zdCB7IG5hbWUsIGpvYiB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBlbGVtZW50cy5wcm9maWxlTmFtZVBvcHVwRWxlbWVudC52YWx1ZSA9IG5hbWU7XHJcbiAgZWxlbWVudHMucHJvZmlsZUpvYlBvcHVwRWxlbWVudC52YWx1ZSA9IGpvYjtcclxuICB1c2VySW5mb1BvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gIHVzZXJJbmZvUG9wdXAub3BlbigpO1xyXG59KVxyXG5cclxuY29uc3QgYWRkTW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5hZGRCdXR0b24pO1xyXG5hZGRNb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBuZXdDYXJkUG9wdXAucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgbmV3Q2FyZFBvcHVwLm9wZW4oKTtcclxuICBhZGRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvbigpO1xyXG59KVxyXG5cclxuY29uc3QgcHJvZmlsZUltYWdlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucHJvZmlsZUltYWdlQnV0dG9uKTtcclxucHJvZmlsZUltYWdlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGNvbnN0IHsgaW1hZ2UgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgZWxlbWVudHMucHJvZmlsZUltYWdlUG9wdXBFbGVtZW50LnZhbHVlID0gaW1hZ2U7XHJcbiAgZWRpdFByb2ZpbGVJbWFnZVBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gIGVkaXRQcm9maWxlSW1hZ2VQb3B1cC5vcGVuKCk7XHJcbiAgZWRpdEltYWdlUHJvZmlsZUZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uKCk7XHJcbn0pXHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInAiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsInRoaXMiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsImlucHV0IiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInJlbW92ZSIsIl9oYXNWYWxpZElucHV0IiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwiX2lucHV0TGlzdCIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ0b2dnbGVCdXR0b24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJvd25lcklkIiwiZGF0YSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNhcmQiLCJoYW5kbGVMaWtlSWNvbiIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl91c2VySWQiLCJvd25lciIsIl9pZCIsIl9jYXJkSWQiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklkIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2hhbmRsZUxpa2VJY29uIiwiX2NhcmRTZWxlY3RvciIsIl9lbGVtZW50IiwiX3NldERlbGV0ZUJ1dHRvbiIsIl91cGRhdGVMaWtlcyIsInN0eWxlIiwiZGlzcGxheSIsImxlbmd0aCIsImZpbHRlciIsIml0ZW0iLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJTZWN0aW9uIiwic2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NVcCIsImJpbmQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX2NhcmRJbWFnZSIsInNyYyIsImFsdCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0cyIsIl92YWx1ZXMiLCJ2YWx1ZSIsImlzTG9hZGluZyIsImV2ZW50IiwicmVuZGVyTG9hZGluZyIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImltYWdlU2VsZWN0b3IiLCJ1c2VySWQiLCJfbmFtZUVsZW1lbnQiLCJfam9iRWxlbWVudCIsIl9pbWFnZUVsZW1lbnQiLCJqb2IiLCJpbWFnZSIsImFib3V0TWUiLCJzZWxlY3RvcnMiLCJlbGVtZW50cyIsImVkaXRGb3JtRWxlbWVudCIsImFkZEZvcm1FbGVtZW50IiwiZWRpdEltYWdlUHJvZmlsZUZvcm1FbGVtZW50IiwicHJvZmlsZU5hbWVFbGVtZW50IiwicHJvZmlsZUpvYkVsZW1lbnQiLCJwcm9maWxlSW1hZ2VFbGVtZW50IiwicHJvZmlsZUltYWdlUG9wdXBFbGVtZW50IiwicHJvZmlsZU5hbWVQb3B1cEVsZW1lbnQiLCJwcm9maWxlSm9iUG9wdXBFbGVtZW50IiwidmFsaWRhdGlvblNldHRpbmdzIiwiQXBpIiwiY29uZmlnIiwiYmFzZVVybCIsInRva2VuIiwiZ3JvdXBJZCIsImZldGNoIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwicmVzIiwib2siLCJjb25zb2xlIiwibG9nIiwic3RhdHVzIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJjYXRjaCIsImVyciIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJjYXJkSWQiLCJQb3B1cFdpdGhDb25maXJtIiwiYXBpIiwiYWxsIiwiZ2V0Q2FyZHMiLCJnZXRQcm9maWxlSW5mbyIsImNhcmRzIiwiaW5mbyIsImNhcmRTZWN0aW9uIiwicmVuZGVySXRlbXMiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsImNyZWF0ZUNhcmQiLCJpbWFnZVByZXZpZXdQb3B1cCIsInVzZXJJbmZvUG9wdXAiLCJzYXZlUHJvZmlsZUluZm8iLCJuZXdDYXJkUG9wdXAiLCJyYXdEYXRhIiwidGl0bGUiLCJzYXZlQ2FyZHMiLCJlZGl0UHJvZmlsZUltYWdlUG9wdXAiLCJzYXZlUHJvZmlsZUltYWdlIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRGb3JtVmFsaWRhdG9yIiwiZWRpdEltYWdlUHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJjYXJkRWxlbWVudCIsImltYWdlRGF0YSIsIm9wZW4iLCJkZWxldGVDYXJkUG9wdXAiLCJyZW1vdmVDYXJkIiwiZGVsZXRlQ2FyZHMiLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJkaXNsaWtlQ2FyZHMiLCJzZXRMaWtlc0luZm8iLCJsaWtlQ2FyZHMiLCJ0b2dnbGUiLCJhZGRJdGVtIiwiZ2VuZXJhdGVDYXJkIiwiZW5hYmxlVmFsaWRhdGlvbiIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==